---
phase: 05-production-readiness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [README.md, .env.example]
autonomous: true

# Goal-backward verification
must_haves:
  truths:
    - "User can understand how to deploy the service"
    - "User can find API endpoint documentation"
    - "User can test webhooks with curl examples"
    - "User understands HTTP URL security considerations"
    - "User knows all available environment variables"
  artifacts:
    - path: "README.md"
      provides: "Complete deployment guide and API documentation"
      min_lines: 100
      contains: "## Deployment"
    - path: ".env.example"
      provides: "All environment variables with descriptions"
      min_lines: 10
  key_links:
    - from: "README.md API examples"
      to: "src/api/routes.py endpoints"
      via: "curl examples use actual endpoint paths"
      pattern: "curl.*/(start|stop|status|health)"
    - from: ".env.example variables"
      to: "docker-compose.yml"
      via: "documented environment variables"
---

<objective>
Create production-ready documentation for deployment and testing.

Purpose: Enable users to deploy the service with minimal friction and understand how to test it.
Output: README.md with deployment guide, API documentation, and testing examples. .env.example showing all available environment variables.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-webhook-api/04-01-SUMMARY.md
@.planning/phases/04-webhook-api/04-02-SUMMARY.md
@.planning/phases/04-webhook-api/04-03-SUMMARY.md
@Dockerfile
@docker-compose.yml
@src/api/models.py
@src/main.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create .env.example with all environment variables</name>
  <files>.env.example</files>
  <action>
Create .env.example file documenting all environment variables:

Required variables:
- DISPLAY=:99 (Xvfb virtual display, set automatically in docker-compose.yml)
- PYTHONUNBUFFERED=1 (for real-time log streaming)

Optional variables:
- CAST_DEVICE_IP (Static IP override for Cast device discovery, addresses WSL2 mDNS limitation)
- CAST_DEVICE_NAME (Alternative: discover by friendly name instead of IP)

Include inline comments explaining each variable's purpose and when to use it. Reference WSL2 mDNS limitation for CAST_DEVICE_IP.
  </action>
  <verify>File exists with all variables documented</verify>
  <done>.env.example created with comprehensive variable documentation</done>
</task>

<task type="auto">
  <name>Task 2: Create comprehensive README.md</name>
  <files>README.md</files>
  <action>
Create README.md with the following sections:

1. **Overview** - What the service does (webhook-triggered dashboard casting to Android TV)
2. **Requirements** - Docker, Docker Compose, Cast device on local network
3. **Quick Start** - Clone, copy .env.example to .env (if needed), docker-compose up
4. **Environment Variables** - Reference .env.example, explain optional variables
5. **API Endpoints** - Document all four endpoints with request/response examples:
   - POST /start - Start casting with url, quality, duration parameters
   - POST /stop - Stop active stream
   - GET /status - Check active stream status
   - GET /health - Service health check
6. **Testing with curl** - Provide working curl examples for all endpoints:
   - Start casting a URL: `curl -X POST http://localhost:8000/start -H "Content-Type: application/json" -d '{"url": "http://homeassistant.local:8123/dashboard", "quality": "1080p"}'`
   - Stop casting: `curl -X POST http://localhost:8000/stop`
   - Check status: `curl http://localhost:8000/status`
   - Check health: `curl http://localhost:8000/health`
7. **Quality Presets** - Document available quality options (1080p, 720p, low-latency) with bitrates
8. **WSL2 Limitation** - Document mDNS discovery limitation, recommend CAST_DEVICE_IP environment variable
9. **Security Considerations** - Document HTTP URL support for local network dashboards, note that users should trust the URLs they cast
10. **Home Assistant Integration** - Brief example of webhook automation (call /start from HA automation)

Use clear markdown formatting, code blocks for examples, and practical focus.
  </action>
  <verify>README.md exists with all sections, curl examples use correct endpoints</verify>
  <done>README.md provides complete deployment and testing guide</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] .env.example contains all environment variables used in docker-compose.yml
- [ ] README.md curl examples use correct endpoint paths from src/api/routes.py
- [ ] README.md documents HTTP URL support with security consideration
- [ ] WSL2 mDNS limitation is documented with CAST_DEVICE_IP workaround
</verification>

<success_criteria>
- All tasks completed
- .env.example documents all variables
- README.md provides complete deployment guide
- API documentation includes working curl examples
- Security considerations clearly documented
- No errors or warnings introduced
</success_criteria>

<output>
After completion, create `.planning/phases/05-production-readiness/05-01-SUMMARY.md`
</output>
